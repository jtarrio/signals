<!doctype html>
<!--
// Copyright 2024 Jacobo Tarrio Barreiro. All rights reserved.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//     http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
-->
<html>
  <head>
    <style>
      #container {
        height: calc(100vh - 1em);
        display: flex;
        flex-direction: column;
        box-sizing: border-box;
        padding: 1ex;
      }
      #filterParams {
        width: 100%;
        box-sizing: border-box;
      }
      #filterView {
        width: 100%;
        height: 0;
        flex: 1;
        padding: 1ex 0;
      }
    </style>
    <script src="filter_explorer.js" type="module"></script>
  </head>
  <body>
    <div id="container">
      <fieldset id="filterParams">
        <legend>Filter parameters</legend>
        Type:
        <select id="filterType">
          <option value="firlowpass" selected>FIR Low pass</option>
          <option value="iirlowpass">IIR Low pass</option>
          <option value="iirlowpass2">IIR Low pass (2nd order)</option>
          <option value="preemphasis">Pre-emphasis</option>
          <option value="deemphasis">De-emphasis</option>
          <option value="predeemphasis">Pre-emphasis + De-emphasis</option>
          <option value="hilbert">Hilbert</option>
          <option value="dcblocker">DC blocker</option></select
        ><span>
          Sample rate:
          <input type="number" id="sampleRate" value="1024000" /></span
        ><span
          class="ctr ctr-firlowpass ctr-iirlowpass ctr-iirlowpass2 ctr-stftlowpass"
        >
          Bandwidth:
          <input type="number" id="bandwidth" min="0" value="20000" /></span
        ><span
          class="ctr ctr-deemphasis ctr-preemphasis ctr-predeemphasis"
          hidden
        >
          Time constant:
          <input
            type="number"
            id="timeConstant"
            min="0"
            max="100"
            value="50"
          />ÂµS</span
        ><span class="ctr ctr-iirlowpass2">
          Q: <input type="number" id="qfactor" value="1" /></span
        ><span class="ctr ctr-firlowpass ctr-hilbert ctr-stftlowpass">
          Taps: <input type="number" id="taps" value="151" /></span
        ><span class="ctr ctr-firlowpass ctr-hilbert">
          FFTFilter: <input type="checkbox" id="fftFilter"
        /></span>
      </fieldset>
      <canvas id="filterView"></canvas>
    </div>
  </body>
</html>
